# Unity - Raycast 피격 트러블슈팅
- 📅 2025.05.09

## 📌 오늘 배운 것
- Raycast와 RaycastAll의 차이
- LayerMask 설정 방법
- 충돌 순서 및 자기 자신과의 충돌 회피

### 🧠 이해한 내용
- 팀 프로젝트에서 보스 몬스터가 레이저 공격을 했을 때, Raycast를 사용해 플레이어를 감지하려 했으나, 레이의 시작 지점이 보스 중심이라 자기 자신이 먼저 감지되어 null을 반환하고 있었음.
- LayerMask도 정확히 설정했지만, 여전히 Raycast로는 원하는 대상을 인식하지 못했음.
- 이를 해결하기 위해 Physics.RaycastAll() 을 사용해 모든 충돌체 정보를 받아온 후, 자기 자신이 아닌 첫 번째 플레이어만 감지하도록 처리함으로써 문제 해결.
- RaycastAll은 단일 히트가 아닌 다중 히트를 반환하므로, 충돌 순서 및 대상 필터링이 필요함을 배움.

#### 💡 느낀 점 / 생각
- 눈에 보이는 디버그 레이와 실제 충돌 대상의 판별 사이에는 차이가 있을 수 있음을 체감했다.
- Raycast는 종종 예상치 못한 객체(특히 자기 자신)를 감지할 수 있기 때문에, 충돌 대상 필터링이 중요하다는 것을 느꼈다.
- 앞으로는 Raycast나 RaycastAll을 사용할 때 자기 자신과의 충돌 여부를 항상 고려해야겠다고 다짐했다.